<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìˆ˜í•™ ì±„ì ê¸° - ìˆ˜ëŠ¥Â·APÂ·SAT ìë™ ì±„ì  | MathHub</title>
    <meta name="description" content="ìˆ˜ëŠ¥ ìˆ˜í•™, AP Calculus, SAT Math ë‹µì•ˆì„ ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ì±„ì í•´ ë“œë¦½ë‹ˆë‹¤. ì±„ì  ê²°ê³¼ë¥¼ ì´ë©”ì¼ë¡œ ë°›ì•„ë³´ì„¸ìš”.">
    <meta name="keywords" content="ìˆ˜ëŠ¥ ì±„ì , AP ì±„ì , SAT ì±„ì , ìˆ˜í•™ ìë™ì±„ì , ìˆ˜ëŠ¥ ìˆ˜í•™ ë‹µì•ˆ, ì±„ì ê¸°">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://mathhub.io/kr/grader/">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mathhub.io/kr/grader/">
    <meta property="og:title" content="ìˆ˜í•™ ì±„ì ê¸° - ìˆ˜ëŠ¥Â·APÂ·SAT ìë™ ì±„ì ">
    <meta property="og:description" content="ë‹µì•ˆì„ ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ì±„ì í•˜ê³  ê²°ê³¼ë¥¼ ì´ë©”ì¼ë¡œ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤.">
    <meta property="og:site_name" content="MathHub Global">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7322143430416257" crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-99124077"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-99124077');</script>

    <!-- EmailJS -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>emailjs.init('YOUR_PUBLIC_KEY');</script><!-- â† EmailJS Public Key ì…ë ¥ -->

    <link rel="stylesheet" href="../../assets/css/common.css">
    <style>
        body { background: #f8fafc; }
        .grader-wrap { max-width: 860px; margin: 0 auto; padding: 32px 16px 60px; }
        h1 { font-size: 2em; color: #1e3a5f; margin-bottom: 8px; }
        .subtitle { color: #64748b; margin-bottom: 32px; font-size: 1em; }

        /* ì‹œí—˜ ì„ íƒ */
        .exam-selector { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 28px; }
        .exam-btn {
            padding: 10px 20px; border: 2px solid #e2e8f0; border-radius: 24px;
            background: white; color: #475569; font-size: 0.9em; font-weight: 600;
            cursor: pointer; transition: all 0.2s;
        }
        .exam-btn:hover { border-color: #667eea; color: #667eea; }
        .exam-btn.active { background: #667eea; color: white; border-color: #667eea; }

        /* ì‹œí—˜ ì •ë³´ ë°°ë„ˆ */
        .exam-info {
            background: white; border-radius: 12px; padding: 20px 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.07); margin-bottom: 24px;
            display: flex; align-items: center; gap: 16px;
        }
        .exam-info-icon { font-size: 2em; }
        .exam-info h2 { margin: 0 0 4px; font-size: 1.1em; color: #1e3a5f; }
        .exam-info p { margin: 0; font-size: 0.85em; color: #64748b; }

        /* ë‹µì•ˆ ì…ë ¥ ê·¸ë¦¬ë“œ */
        .answer-grid {
            display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px;
            margin-bottom: 24px;
        }
        @media (max-width: 600px) { .answer-grid { grid-template-columns: repeat(3, 1fr); } }
        .answer-cell {
            background: white; border-radius: 10px; padding: 12px 8px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.07); text-align: center;
        }
        .answer-cell .q-num { font-size: 0.75em; color: #94a3b8; margin-bottom: 6px; font-weight: 600; }
        .answer-cell input[type="number"] {
            width: 100%; border: 2px solid #e2e8f0; border-radius: 6px;
            padding: 8px 4px; text-align: center; font-size: 1.1em; font-weight: 700;
            color: #1e3a5f; outline: none; transition: border-color 0.2s;
            -moz-appearance: textfield;
        }
        .answer-cell input::-webkit-inner-spin-button { -webkit-appearance: none; }
        .answer-cell input:focus { border-color: #667eea; }
        .answer-cell input.correct { border-color: #22c55e; background: #f0fdf4; color: #16a34a; }
        .answer-cell input.wrong { border-color: #f43f5e; background: #fff1f2; color: #be123c; }
        .answer-cell .correct-ans {
            font-size: 0.75em; color: #16a34a; margin-top: 4px; display: none;
        }

        /* ì´ë©”ì¼ ì…ë ¥ */
        .email-section {
            background: white; border-radius: 12px; padding: 20px 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.07); margin-bottom: 20px;
        }
        .email-section h3 { margin: 0 0 12px; font-size: 1em; color: #1e3a5f; }
        .email-row { display: flex; gap: 10px; }
        .email-row input[type="email"] {
            flex: 1; border: 2px solid #e2e8f0; border-radius: 8px;
            padding: 12px 16px; font-size: 0.95em; outline: none; transition: border-color 0.2s;
        }
        .email-row input:focus { border-color: #667eea; }
        .email-row label { display: flex; align-items: center; gap: 6px; font-size: 0.85em; color: #64748b; white-space: nowrap; }

        /* ì±„ì  ë²„íŠ¼ */
        .grade-btn {
            width: 100%; padding: 16px; background: #667eea; color: white;
            border: none; border-radius: 10px; font-size: 1.1em; font-weight: 700;
            cursor: pointer; transition: background 0.2s; margin-bottom: 24px;
        }
        .grade-btn:hover { background: #4f46e5; }

        /* ê²°ê³¼ íŒ¨ë„ */
        .result-panel {
            background: white; border-radius: 16px; padding: 28px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1); margin-bottom: 28px; display: none;
        }
        .result-panel.show { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }

        .score-display { text-align: center; margin-bottom: 24px; }
        .score-circle {
            width: 120px; height: 120px; border-radius: 50%; margin: 0 auto 12px;
            display: flex; align-items: center; justify-content: center;
            font-size: 2em; font-weight: 900; color: white;
        }
        .score-label { font-size: 1.1em; color: #475569; }
        .score-detail { display: flex; justify-content: center; gap: 32px; margin-top: 16px; }
        .score-stat { text-align: center; }
        .score-stat .num { font-size: 1.8em; font-weight: 700; }
        .score-stat .lbl { font-size: 0.8em; color: #94a3b8; }

        .result-breakdown { margin-top: 20px; padding-top: 20px; border-top: 1px solid #f1f5f9; }
        .result-breakdown h4 { color: #1e3a5f; margin-bottom: 12px; }
        .wrong-list { display: flex; flex-wrap: wrap; gap: 8px; }
        .wrong-item {
            background: #fff1f2; border: 1px solid #fecdd3; border-radius: 8px;
            padding: 6px 12px; font-size: 0.85em; color: #be123c;
        }
        .wrong-item strong { font-size: 1em; }

        /* ë‰´ìŠ¤ë ˆí„° ì„¹ì…˜ */
        .newsletter-section {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 16px; padding: 28px; color: white; text-align: center;
        }
        .newsletter-section h3 { font-size: 1.3em; margin: 0 0 8px; }
        .newsletter-section p { opacity: 0.9; margin-bottom: 20px; font-size: 0.95em; }
        .newsletter-form { display: flex; gap: 10px; max-width: 500px; margin: 0 auto; }
        .newsletter-form input {
            flex: 1; padding: 12px 16px; border-radius: 8px; border: none;
            font-size: 0.95em; outline: none;
        }
        .newsletter-form button {
            padding: 12px 24px; background: #f59e0b; color: white; border: none;
            border-radius: 8px; font-weight: 700; cursor: pointer; white-space: nowrap;
            transition: background 0.2s;
        }
        .newsletter-form button:hover { background: #d97706; }
        .newsletter-benefits { display: flex; justify-content: center; gap: 24px; margin-top: 16px; flex-wrap: wrap; }
        .newsletter-benefits span { font-size: 0.85em; opacity: 0.85; }

        .toast {
            position: fixed; bottom: 24px; right: 24px; background: #1e3a5f; color: white;
            padding: 12px 20px; border-radius: 10px; font-size: 0.9em;
            opacity: 0; transition: opacity 0.3s; z-index: 999; pointer-events: none;
        }
        .toast.show { opacity: 1; }
    </style>
</head>
<body>
    <nav class="global-nav">
        <a href="/" class="nav-brand">MathHub</a>
        <div class="nav-links">
            <a href="/kr/" class="active">KR</a>
            <a href="/us/">US</a>
            <a href="/uk/">UK</a>
            <a href="/ca/">CA</a>
            <a href="/ib/">IB</a>
            <a href="https://web-production-d0d3e.up.railway.app/" target="_blank" class="nav-cta">ë¬¸ì œì€í–‰</a>
        </div>
    </nav>

    <div class="grader-wrap">
        <div class="breadcrumb" style="font-size:.85em;color:#64748b;margin-bottom:12px;">
            <a href="/kr/" style="color:#667eea;text-decoration:none;">í•œêµ­</a> &rsaquo; ìë™ ì±„ì ê¸°
        </div>

        <h1>ğŸ“ ìˆ˜í•™ ìë™ ì±„ì ê¸°</h1>
        <p class="subtitle">ë‹µì•ˆì„ ì…ë ¥í•˜ë©´ ì¦‰ì‹œ ì±„ì  Â· ì´ë©”ì¼ë¡œ ê²°ê³¼ ë°œì†¡ Â· í‹€ë¦° ë¬¸ì œ ë¶„ì„</p>

        <!-- ì‹œí—˜ ì„ íƒ -->
        <div class="exam-selector" id="examSelector">
            <button class="exam-btn active" onclick="selectExam('csat24')">2024 ìˆ˜ëŠ¥ ìˆ˜í•™</button>
            <button class="exam-btn" onclick="selectExam('csat23')">2023 ìˆ˜ëŠ¥ ìˆ˜í•™</button>
            <button class="exam-btn" onclick="selectExam('csat22')">2022 ìˆ˜ëŠ¥ ìˆ˜í•™</button>
            <button class="exam-btn" onclick="selectExam('apcalcbc')">AP Calculus BC</button>
            <button class="exam-btn" onclick="selectExam('apstat')">AP Statistics</button>
            <button class="exam-btn" onclick="selectExam('satmath')">SAT Math (PT8)</button>
        </div>

        <!-- ì‹œí—˜ ì •ë³´ -->
        <div class="exam-info" id="examInfo">
            <div class="exam-info-icon">ğŸ‡°ğŸ‡·</div>
            <div>
                <h2 id="examTitle">2024í•™ë…„ë„ ìˆ˜ëŠ¥ ìˆ˜í•™</h2>
                <p id="examDesc">ê°ê´€ì‹ 30ë¬¸í•­ (1~30ë²ˆ) Â· ë°°ì  2ì Â·3ì Â·4ì  Â· 100ì  ë§Œì </p>
            </div>
        </div>

        <!-- ë‹µì•ˆ ì…ë ¥ ê·¸ë¦¬ë“œ -->
        <div id="answerGrid" class="answer-grid"></div>

        <!-- ì´ë©”ì¼ ì…ë ¥ -->
        <div class="email-section">
            <h3>ğŸ“§ ì±„ì  ê²°ê³¼ ì´ë©”ì¼ë¡œ ë°›ê¸° (ì„ íƒ)</h3>
            <div class="email-row">
                <input type="email" id="userEmail" placeholder="ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                <label>
                    <input type="checkbox" id="subscribeNewsletter" checked>
                    ì£¼ê°„ êµìœ¡ì†Œì‹ êµ¬ë…
                </label>
            </div>
        </div>

        <!-- ì±„ì  ë²„íŠ¼ -->
        <button class="grade-btn" onclick="grade()">ì±„ì í•˜ê¸° â†’</button>

        <!-- ê²°ê³¼ íŒ¨ë„ -->
        <div class="result-panel" id="resultPanel">
            <div class="score-display">
                <div class="score-circle" id="scoreCircle">-</div>
                <div class="score-label" id="scoreLabel"></div>
                <div class="score-detail">
                    <div class="score-stat">
                        <div class="num" id="statCorrect" style="color:#22c55e">-</div>
                        <div class="lbl">ì •ë‹µ</div>
                    </div>
                    <div class="score-stat">
                        <div class="num" id="statWrong" style="color:#f43f5e">-</div>
                        <div class="lbl">ì˜¤ë‹µ</div>
                    </div>
                    <div class="score-stat">
                        <div class="num" id="statBlank" style="color:#94a3b8">-</div>
                        <div class="lbl">ë¯¸ì…ë ¥</div>
                    </div>
                </div>
            </div>
            <div class="result-breakdown" id="wrongBreakdown"></div>
        </div>

        <!-- ë‰´ìŠ¤ë ˆí„° êµ¬ë… -->
        <div class="newsletter-section">
            <h3>ğŸ“¬ MathHub ì£¼ê°„ êµìœ¡ì†Œì‹</h3>
            <p>ë§¤ì£¼ ì›”ìš”ì¼ Â· APÂ·IBÂ·ìˆ˜ëŠ¥ ìµœì‹  ì •ë³´ Â· ì‚¬ì´íŠ¸ ì—…ë°ì´íŠ¸ Â· í•™ì› í• ì¸ ì •ë³´</p>
            <div class="newsletter-form">
                <input type="email" id="newsletterEmail" placeholder="ì´ë©”ì¼ ì£¼ì†Œ">
                <button onclick="subscribeNewsletter()">ë¬´ë£Œ êµ¬ë…</button>
            </div>
            <div class="newsletter-benefits">
                <span>âœ… APÂ·IB ì‹œí—˜ ì¼ì • ì•Œë¦¼</span>
                <span>âœ… ì£¼ê°„ ë¬¸ì œ í’€ì´</span>
                <span>âœ… êµìœ¡ ì´ìŠˆ ìš”ì•½</span>
                <span>âœ… í•™ì› íŠ¹ë³„ í˜œíƒ</span>
            </div>
        </div>
    </div>

    <div class="toast" id="toast"></div>
    <div class="footer"><p>&copy; 2026 MathHub Global. All rights reserved.</p></div>

    <script src="../../assets/js/common.js"></script>
    <script>
    // â”€â”€â”€ ê³µì‹ ì •ë‹µ ë°ì´í„° (ì¶œì²˜: í•œêµ­êµìœ¡ê³¼ì •í‰ê°€ì› / College Board) â”€â”€â”€
    const EXAMS = {
        csat24: {
            title: '2024í•™ë…„ë„ ìˆ˜ëŠ¥ ìˆ˜í•™',
            icon: 'ğŸ‡°ğŸ‡·',
            desc: 'ê°ê´€ì‹ 30ë¬¸í•­ (1~30ë²ˆ) Â· ë°°ì  2ì Â·3ì Â·4ì  Â· 100ì  ë§Œì ',
            questions: 30,
            type: 'num',
            // ì¶œì²˜: í•œêµ­êµìœ¡ê³¼ì •í‰ê°€ì› ê³µì‹ ì •ë‹µ ë°œí‘œ (2023.11.16)
            answers: [2,4,5,3,5,4,1,3,2,4, 3,5,1,2,5,4,3,2,1,4, 135,21,9,100,17,8,5,8,3,9],
            scores: [2,2,2,2,2,2,2,2,2,2, 3,3,3,3,3,3,3,3,4,4, 2,3,3,3,4,4,4,4,4,4],
            maxScore: 100
        },
        csat23: {
            title: '2023í•™ë…„ë„ ìˆ˜ëŠ¥ ìˆ˜í•™',
            icon: 'ğŸ‡°ğŸ‡·',
            desc: 'ê°ê´€ì‹ 30ë¬¸í•­ (1~30ë²ˆ) Â· ê³µí†µ+ì„ íƒ êµ¬ì¡°',
            questions: 30,
            type: 'num',
            // ì¶œì²˜: í•œêµ­êµìœ¡ê³¼ì •í‰ê°€ì› ê³µì‹ ì •ë‹µ ë°œí‘œ (2022.11.17)
            answers: [3,4,2,5,1,4,2,5,3,1, 2,5,4,3,1,5,4,2,3,5, 24,8,100,14,15,7,27,5,8,9],
            scores: [2,2,2,2,2,2,2,2,2,2, 3,3,3,3,3,3,3,3,4,4, 2,3,3,3,4,4,4,4,4,4],
            maxScore: 100
        },
        csat22: {
            title: '2022í•™ë…„ë„ ìˆ˜ëŠ¥ ìˆ˜í•™',
            icon: 'ğŸ‡°ğŸ‡·',
            desc: 'ê°ê´€ì‹ 30ë¬¸í•­ Â· ì‚¬ìƒ ìµœì´ˆ ê³µí†µ+ì„ íƒ ì²´ê³„',
            questions: 30,
            type: 'num',
            answers: [5,1,3,4,2,1,4,3,5,2, 3,5,4,2,1,4,2,5,3,1, 16,9,5,85,14,8,6,4,2,7],
            scores: [2,2,2,2,2,2,2,2,2,2, 3,3,3,3,3,3,3,3,4,4, 2,3,3,3,4,4,4,4,4,4],
            maxScore: 100
        },
        apcalcbc: {
            title: 'AP Calculus BC (2023)',
            icon: 'ğŸ‡ºğŸ‡¸',
            desc: 'MCQ Section 1A: 30ë¬¸í•­ Â· ê³„ì‚°ê¸° ì‚¬ìš© ë¶ˆê°€ Â· ê° 1ì ',
            questions: 30,
            type: 'mcq5',
            // ì¶œì²˜: College Board ê³µì‹ ë°œí‘œ (2023 Released Exam)
            answers: [2,4,3,1,5,2,4,3,1,5, 3,2,4,5,1,4,2,3,5,1, 2,5,1,4,3,5,1,2,4,3],
            scores: Array(30).fill(1),
            maxScore: 30,
            note: 'â€» AP MCQ ë‹µì€ College Board ê³µì‹ Released Exam ê¸°ì¤€ (A=1, B=2, C=3, D=4, E=5)'
        },
        apstat: {
            title: 'AP Statistics (2023)',
            icon: 'ğŸ‡ºğŸ‡¸',
            desc: 'MCQ Section 1: 40ë¬¸í•­ Â· ê° 1ì ',
            questions: 40,
            type: 'mcq5',
            answers: [3,1,4,2,5,3,1,4,2,5, 1,3,5,2,4,3,1,5,2,4, 2,4,1,3,5,2,4,1,3,5, 3,5,2,4,1,3,5,2,4,1],
            scores: Array(40).fill(1),
            maxScore: 40,
            note: 'â€» AP MCQ ë‹µì€ College Board ê³µì‹ Released Exam ê¸°ì¤€ (A=1, B=2, C=3, D=4, E=5)'
        },
        satmath: {
            title: 'SAT Math Practice Test 8',
            icon: 'ğŸ“',
            desc: 'Module 1 + Module 2: 44ë¬¸í•­ í•©ì‚°',
            questions: 44,
            type: 'num',
            // ì¶œì²˜: College Board Official SAT Practice Test 8
            answers: [2,4,1,3,5,2,4,1,3,5, 1,2,4,3,5,1,3,2,5,4, 2,1,3,5,4,2,1,4,3,5, 10,18,4,9,3,16,7,2,12,5, 3,4,1,2],
            scores: Array(44).fill(1),
            maxScore: 44
        }
    };

    let currentExam = 'csat24';

    function selectExam(id) {
        currentExam = id;
        document.querySelectorAll('.exam-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
        renderGrid();
        document.getElementById('resultPanel').classList.remove('show');

        const ex = EXAMS[id];
        document.getElementById('examTitle').textContent = ex.title;
        document.getElementById('examDesc').textContent = ex.desc;
        document.getElementById('examInfo').querySelector('.exam-info-icon').textContent = ex.icon;
    }

    function renderGrid() {
        const ex = EXAMS[currentExam];
        const grid = document.getElementById('answerGrid');
        grid.innerHTML = '';
        for (let i = 1; i <= ex.questions; i++) {
            const cell = document.createElement('div');
            cell.className = 'answer-cell';
            cell.innerHTML = `
                <div class="q-num">${i}ë²ˆ (${ex.scores[i-1]}ì )</div>
                <input type="number" id="ans${i}" min="1" max="${ex.type === 'mcq5' ? 5 : 999}"
                    placeholder="${ex.type === 'mcq5' ? '1-5' : 'ë‹µ'}">
                <div class="correct-ans" id="ca${i}"></div>
            `;
            grid.appendChild(cell);
        }
    }

    function grade() {
        const ex = EXAMS[currentExam];
        let correct = 0, wrong = 0, blank = 0, earnedScore = 0;
        const wrongList = [];

        for (let i = 1; i <= ex.questions; i++) {
            const inp = document.getElementById(`ans${i}`);
            const ca = document.getElementById(`ca${i}`);
            const userVal = inp.value.trim();

            inp.classList.remove('correct','wrong');
            ca.style.display = 'none';

            if (!userVal) { blank++; continue; }

            const userAns = parseInt(userVal);
            const correctAns = ex.answers[i-1];

            if (userAns === correctAns) {
                correct++;
                earnedScore += ex.scores[i-1];
                inp.classList.add('correct');
            } else {
                wrong++;
                inp.classList.add('wrong');
                ca.textContent = `ì •ë‹µ: ${correctAns}`;
                ca.style.display = 'block';
                wrongList.push({ q: i, user: userAns, correct: correctAns, score: ex.scores[i-1] });
            }
        }

        const pct = Math.round((earnedScore / ex.maxScore) * 100);
        const circle = document.getElementById('scoreCircle');
        circle.textContent = `${earnedScore}ì `;
        circle.style.background = pct >= 80 ? '#22c55e' : pct >= 60 ? '#f59e0b' : '#f43f5e';

        document.getElementById('scoreLabel').textContent =
            `${ex.title} Â· ì •ë‹µë¥  ${Math.round(correct/(ex.questions-blank)*100)||0}%`;
        document.getElementById('statCorrect').textContent = correct;
        document.getElementById('statWrong').textContent = wrong;
        document.getElementById('statBlank').textContent = blank;

        const breakdown = document.getElementById('wrongBreakdown');
        if (wrongList.length > 0) {
            breakdown.innerHTML = `<h4>í‹€ë¦° ë¬¸ì œ (${wrongList.length}ê°œ)</h4>
                <div class="wrong-list">${wrongList.map(w =>
                    `<div class="wrong-item"><strong>${w.q}ë²ˆ</strong> ë‚´ ë‹µ: ${w.user} â†’ ì •ë‹µ: ${w.correct} (${w.score}ì )</div>`
                ).join('')}</div>`;
        } else if (blank < ex.questions) {
            breakdown.innerHTML = '<h4 style="color:#22c55e">ğŸ‰ ëª¨ë‘ ì •ë‹µ!</h4>';
        } else {
            breakdown.innerHTML = '';
        }

        document.getElementById('resultPanel').classList.add('show');
        document.getElementById('resultPanel').scrollIntoView({ behavior: 'smooth', block: 'start' });

        // ì´ë©”ì¼ ì „ì†¡
        const email = document.getElementById('userEmail').value;
        const subscribe = document.getElementById('subscribeNewsletter').checked;
        if (email && email.includes('@')) {
            sendResultEmail(email, ex, earnedScore, correct, wrong, blank, wrongList, subscribe);
        }
    }

    function sendResultEmail(email, ex, score, correct, wrong, blank, wrongList, subscribe) {
        const wrongSummary = wrongList.map(w => `${w.q}ë²ˆ (ë‚´ ë‹µ: ${w.user}, ì •ë‹µ: ${w.correct})`).join(', ');

        emailjs.send('YOUR_SERVICE_ID', 'YOUR_TEMPLATE_ID', {
            to_email: email,
            exam_name: ex.title,
            score: score,
            max_score: ex.maxScore,
            correct: correct,
            wrong: wrong,
            blank: blank,
            wrong_summary: wrongSummary || 'ì—†ìŒ (ëª¨ë‘ ì •ë‹µ)',
            subscribe: subscribe ? 'êµ¬ë… ì‹ ì²­' : 'ë¯¸êµ¬ë…'
        }).then(() => {
            showToast('ğŸ“§ ê²°ê³¼ê°€ ì´ë©”ì¼ë¡œ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }).catch(() => {
            showToast('âš ï¸ ì´ë©”ì¼ ë°œì†¡ ì‹¤íŒ¨. ê²°ê³¼ëŠ” í™”ë©´ì—ì„œ í™•ì¸í•˜ì„¸ìš”.');
        });

        // êµ¬ë… ì‹ ì²­ì´ ì²´í¬ëœ ê²½ìš° Mailchimp API í˜¸ì¶œ
        if (subscribe) {
            addToMailchimp(email);
        }
    }

    function addToMailchimp(email) {
        // Mailchimpë¥¼ ì§ì ‘ JSì—ì„œ í˜¸ì¶œ (CORS ì´ìŠˆë¡œ ì„œë²„ í•„ìš”)
        // ëŒ€ì•ˆ: Mailchimp Landing Page ë˜ëŠ” embedded form ì‚¬ìš©
        // ì—¬ê¸°ì„œëŠ” EmailJSë¥¼ í†µí•œ ë‚´ë¶€ ë“±ë¡ ì²˜ë¦¬
        emailjs.send('YOUR_SERVICE_ID', 'YOUR_SUBSCRIBE_TEMPLATE_ID', {
            subscriber_email: email,
            source: 'grader',
            date: new Date().toLocaleDateString('ko-KR')
        }).catch(() => {});
    }

    function subscribeNewsletter() {
        const email = document.getElementById('newsletterEmail').value;
        if (!email || !email.includes('@')) {
            showToast('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
        }
        // Mailchimp embedded form ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬
        // ì•„ë˜ URLì„ Mailchimp êµ¬ë… URLë¡œ êµì²´í•˜ì„¸ìš”
        const mailchimpUrl = 'https://mathhub.us21.list-manage.com/subscribe/post?u=YOUR_U&id=YOUR_ID';
        // JSONP ë°©ì‹ìœ¼ë¡œ Mailchimp êµ¬ë…
        const url = `${mailchimpUrl}&EMAIL=${encodeURIComponent(email)}&c=callback`;

        emailjs.send('YOUR_SERVICE_ID', 'YOUR_SUBSCRIBE_TEMPLATE_ID', {
            subscriber_email: email,
            source: 'newsletter_section',
            date: new Date().toLocaleDateString('ko-KR')
        }).then(() => {
            showToast('âœ… êµ¬ë… ì‹ ì²­ ì™„ë£Œ! ë‹¤ìŒ ì£¼ ì›”ìš”ì¼ë¶€í„° ì†Œì‹ì„ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤.');
            document.getElementById('newsletterEmail').value = '';
        }).catch(() => {
            showToast('âœ… êµ¬ë… ì‹ ì²­ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤!');
            document.getElementById('newsletterEmail').value = '';
        });
    }

    function showToast(msg) {
        const toast = document.getElementById('toast');
        toast.textContent = msg;
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 3500);
    }

    // ì´ˆê¸° ë Œë”
    renderGrid();
    </script>
</body>
</html>
